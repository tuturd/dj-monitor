<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Configuration</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/config.css') }}">
    <script src="{{ url_for('static', filename='js/config.js') }}"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</head>

<body class="bg-dark text-light">
    <div class="container mt-5">
        <h1 class="mb-4">Page de configuration</h1>
        <div class="card shadow bg-secondary text-light">
            <div class="card-body">
                <form id="configForm">
                    <div class="mb-3">
                        <label for="text" class="form-label">Texte à afficher :</label>
                        <input type="text" id="text" name="text" class="form-control form-control-lg bg-dark text-light"
                            value="{{ current_text }}">
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="color" class="form-label">Couleur :</label>
                            <select id="color" name="color" class="form-select form-select-lg bg-dark text-light">
                                <option value="white" {% if current_color=='white' %}selected{% endif %}>Blanc</option>
                                <option value="orange" {% if current_color=='orange' %}selected{% endif %}>Orange
                                </option>
                                <option value="red" {% if current_color=='red' %}selected{% endif %}>Rouge</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="blink_mode" class="form-label">Clignotement :</label>
                            <select id="blink_mode" name="blink_mode"
                                class="form-select form-select-lg bg-dark text-light">
                                <option value="yes" {% if current_blink_mode %}selected{% endif %}>Oui</option>
                                <option value="no" {% if not current_blink_mode %}selected{% endif %}>Non</option>
                            </select>
                        </div>
                    </div>
                    <hr>
                    <button type="submit" class="btn btn-primary w-100">Mettre à jour</button>
                    <br><br>
                    <div class="d-flex justify-content-between">
                        <button type="button" id="clearBtn" class="btn btn-danger w-50 me-2">
                            Vider le texte
                        </button>
                        <button type="button" id="blinkBtn" class="btn btn-info w-50 ms-2">
                            Clignotter
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <div class="card mt-3 shadow bg-secondary text-light">
            <div class="card-body">
                <h2 class="card-title">Aperçu du moniteur</h2>
                <iframe src="/monitor" width="100%" height="300" class="border rounded"
                    style="border:1px solid #ccc; background-color:#222;"></iframe>
                <div class="d-flex justify-content-center">
                    <a href="/monitor" class="btn btn-outline-light mt-3">Ouvrir la page /monitor</a>
                </div>
            </div>
        </div>

        <div class="card mt-3 shadow bg-secondary text-light">
            <div class="card-body">
                <h2 class="card-title">Horaire de fin de set</h2>
                <form id="scheduleForm">
                    <h3 class="mb-3">Formulaire d'horaire de fin de set</h3>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="date" class="form-label">Date :</label>
                            <input type="date" id="date" name="date"
                                class="form-control form-control-lg bg-dark text-light" value="{{ current_end_date }}">
                        </div>
                        <div class="col-md-6">
                            <label for="time" class="form-label">Horaire :</label>
                            <input type="time" id="time" name="time"
                                class="form-control form-control-lg bg-dark text-light" value="{{ current_end_time }}">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="number" class="form-label">Minutes orange :</label>
                            <input type="number" id="number" name="warningMinutes"
                                class="form-control form-control-lg bg-dark text-light"
                                value="{{ current_warning_minutes }}">
                        </div>
                    </div>
                    <p class="text-warning text-center mb-2">Attention, l'écran clignottera selon les paramètres définis
                        dans la section principale.</p>
                    <button type="submit" class="btn btn-primary w-100">Mettre à jour</button>
                </form>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-light text-center py-3 mt-5">
        <div class="container">
            <span>DJ Monitor - &copy;2025 Arthur Dodin</span>
        </div>
    </footer>
</body>

</html>