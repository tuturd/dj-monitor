<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Configuration</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/config.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap-icons.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
    <script src="{{ url_for('static', filename='js/config.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
</head>

<body class="bg-dark text-light">
    <div class="container mt-5">
        <div class="card border-0 shadow-none mb-4 bg-transparent">
            <div class="card-body p-0">
                <section id="clock-section">
                    <h1 id="clock" class="text-center text-light user-select-none" style="font-size:10rem;">
                        --:--:--
                    </h1>
                    <h2 id="countdown" class="text-center text-light user-select-none" style="font-size:7rem;">
                        --:--
                    </h2>
                </section>
            </div>
        </div>
        <div class="card shadow bg-secondary text-light">
            <div class="card-body">
                <form id="configForm">
                    <div class="mb-3">
                        <label for="text" class="form-label">Texte à afficher :</label>
                        <input type="text" id="text" name="text" class="form-control form-control-lg bg-dark text-light"
                            value="{{ current_text }}">
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="color" class="form-label">Couleur :</label>
                            <select id="color" name="color" class="form-select form-select-lg bg-dark text-light">
                                <option value="white" {% if current_color=='white' %}selected{% endif %}>Blanc</option>
                                <option value="orange" {% if current_color=='orange' %}selected{% endif %}>Orange
                                </option>
                                <option value="red" {% if current_color=='red' %}selected{% endif %}>Rouge</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="blink_mode" class="form-label">Clignotement :</label>
                            <select id="blink_mode" name="blink_mode"
                                class="form-select form-select-lg bg-dark text-light">
                                <option value="yes" {% if current_blink_mode %}selected{% endif %}>Oui</option>
                                <option value="no" {% if not current_blink_mode %}selected{% endif %}>Non</option>
                            </select>
                        </div>
                    </div>
                    <hr>
                    <button type="submit" class="btn btn-primary w-100">Mettre à jour</button>
                    <br><br>
                    <div class="d-flex justify-content-between">
                        <button type="button" id="clearBtn" class="btn btn-danger w-50 me-2">
                            Vider le texte
                        </button>
                        <button type="button" id="blinkBtn" class="btn btn-info w-50 ms-2">
                            Clignotter
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <div class="card mt-3 shadow bg-secondary text-light">
            <div class="card-header" style="cursor:pointer;" data-bs-toggle="collapse" data-bs-target="#scheduleCard"
                aria-expanded="false" aria-controls="scheduleCard">
                <h2 class="mb-0">Horaire de fin de set <span class="float-end"><i class="bi bi-chevron-down"></i></span>
                </h2>
            </div>
            <div id="scheduleCard" class="collapse">
                <div class="card-body">
                    <form id="scheduleForm">
                        <h3 class="mb-3">Formulaire d'horaire de fin de set</h3>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="date" class="form-label">Date :</label>
                                <input type="date" id="date" name="date"
                                    class="form-control form-control-lg bg-dark text-light"
                                    value="{{ current_end_date }}">
                            </div>
                            <div class="col-md-6">
                                <label for="time" class="form-label">Horaire :</label>
                                <input type="time" id="time" name="time"
                                    class="form-control form-control-lg bg-dark text-light"
                                    value="{{ current_end_time }}">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="number" class="form-label">Minutes orange :</label>
                                <input type="number" id="warningMinutes" name="warningMinutes"
                                    class="form-control form-control-lg bg-dark text-light"
                                    value="{{ current_warning_minutes }}">
                            </div>
                        </div>
                        <p class="text-warning text-center mb-2">Attention, l'écran clignottera selon les paramètres
                            définis
                            dans la section principale.</p>
                        <button type="submit" class="btn btn-primary w-100">Mettre à jour</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center">
        <a href="/monitor" class="btn btn-outline-light mt-3">Ouvrir le moniteur</a>
    </div>

    <footer class="bg-dark text-light text-center py-3 mt-5">
        <div class="container">
            <span>DJ Monitor - &copy;2025 Arthur Dodin</span>
        </div>
    </footer>
</body>

</html>